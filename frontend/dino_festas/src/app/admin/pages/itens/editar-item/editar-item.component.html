<h1>Editar item</h1>
<div class="search-container">
  <form
    class="login-form"
    action=""
    #searchForm="ngForm"
    (ngSubmit)="onSubmit(searchForm)"
  >
    <div class="form-field-container">
      <label class="label" for="nome">Nome</label>
      <input
        class="input"
        name="nome"
        id="nome"
        required
        [(ngModel)]="nome"
        #nomeRef="ngModel"
      />
      <app-error-message
        [control]="nomeRef"
        fieldName="nome"
      ></app-error-message>
    </div>

    <div class="form-field-container">
      <label class="label" for="categoria">Categoria</label>
      <select
        class="input"
        name="categoria"
        id="categoria"
        required
        [(ngModel)]="categoria"
        #categoriaRef="ngModel"
      >
        <option value="" disabled selected>Selecione uma categoria</option>
        <option
          *ngFor="let categoria of categoriasDisponiveis"
          [value]="categoria"
        >
          {{ categoria }}
        </option>
      </select>
      <app-error-message
        [control]="categoriaRef"
        fieldName="categoria"
      ></app-error-message>
    </div>

    <div class="form-field-container">
      <label class="label" for="codigo">CÃ³digo</label>
      <input
        class="input"
        name="codigo"
        id="codigo"
        type="number"
        required
        [(ngModel)]="codigo"
        #codigoRef="ngModel"
      />
      <app-error-message
        [control]="codigoRef"
        fieldName="codigo"
      ></app-error-message>
    </div>

    <div class="form-field-container">
      <label class="label" for="valor">Valor</label>
      <input
        class="input"
        name="valor"
        id="valor"
        required
        type="number"
        [(ngModel)]="valor"
        #valorRef="ngModel"
      />
      <app-error-message
        [control]="valorRef"
        fieldName="valor"
      ></app-error-message>
    </div>

    <div class="form-field-container">
      <label class="label" for="valor">Tema</label>
      <input
        class="input"
        name="tema"
        id="tema"
        required
        [(ngModel)]="tema"
        #temaRef="ngModel"
      />
      <app-error-message
        [control]="temaRef"
        fieldName="tema"
      ></app-error-message>
    </div>

    <div class="form-field-container">
      <label class="label" for="imagens">Imagens</label>
      <input
        class="input"
        name="imagens"
        id="imagens"
        type="file"
        accept="image/*"
        multiple
        (change)="onFileSelected($event)"
        [(ngModel)]="imagens"
        #imagensRef="ngModel"
      />
      <app-error-message
        [control]="imagensRef"
        fieldName="imagens"
      ></app-error-message>
    </div>

    <div></div>

    <div class="button-container">
      <button type="button" class="cadastrar" [routerLink]="['/admin/itens']">
        Cancelar
      </button>
      <button type="submit" class="pesquisar">Editar</button>
    </div>
  </form>
</div>

<app-sucess-popup
  [show]="showSucess"
  message="Item criado com sucesso!"
></app-sucess-popup>

<app-loading-spinner *ngIf="loading"></app-loading-spinner>
